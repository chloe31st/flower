<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 http:www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- <!DOCTYPE html>
<html> -->
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=yes">
    <script type="text/javascript" src="./jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="./set/index.js"></script>
	  <link rel="stylesheet" type="text/css" href="./set/index.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.0/sweetalert.min.css">
    <title>高尾山の花画像認識サイト</title>
  </head>



  <body>
    <h1 background-color:#FFAFFE;>高尾山の花画像認識サイト</h1>
    <div id="zenbu">

    <h3>他のサビース</h3>
    <p>１　高尾山の花画像認識サイト</p>
    <p>２　<a href="https://chloe31st.github.io/takao/">登山情報サービス</a></p>
    <!-- <p>３　<a href="http://web01.idsc.takushoku-u.ac.jp/~r58465/client2.html">昨年度までに作成された国語辞書サビース</a></p> -->
    <!-- <p>４　<a href="http://web01.idsc.takushoku-u.ac.jp/~r58465/client4.html">一般国語辞書サビース</a></p> -->

    <h3>画像認識</h3>
    <p>画像アップロードしてください</p>
    
    <!-- 算数
    <form id="aa" enctype="multipart/form-data">
      <input type=text name="bb"/>
      <input type=text name="cc"/>
      <button type="submit">アップロード</button><br/>
    </form> -->

    <form id="uploadForm">
      <input id="file" type=file name="file" accept="image/gif, image/jpeg, image/png"/>
      <button id="upload" type="button">アップロード</button><br/>
      <img id="preview_img" style="width:180px;height:150px;">
    </form>


    <h3>取得した情報</h3>
    <p><div id="imi">内容はここです</div></p>
      <div id="photo">

      </div>



    </div>
  </body>

  <script>
  document
      .querySelector('#file')
      .addEventListener('change', function(){
          //画像を選択してないとき，リセット
          if(this.files.length === 0){
              document.querySelector('#preview_img').src = '';
              return;
          }
          var reader = new FileReader();
          reader.onload = function (e) {
              //readerに入るとき，画像の値を与える
              document.querySelector('#preview_img').src = e.target.result;
          };
      //画像を選択，dataURLの式に変更
      reader.readAsDataURL(this.files[0]);
      }, false);




  </script>


</html>
<!--1. クライアントページを修正
(ajaxの返すパラメータを修正)

クライアントからGASに通信成功


https://tanaikech.github.io/2017/07/21/multipart-post-request-using-google-apps-script/
参考：(post file from GAS)https://tanaikech.github.io/2017/07/21/multipart-post-request-using-google-apps-script/
-->
